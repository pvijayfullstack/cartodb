<div class="Dialog-content Dialog-content--expanded">

  <div class="Dialog-contentWrapper">
    <% if (currentStep) { %>
      <button class="NavButton Dialog-backBtn js-back">
        <i class="iconFont iconFont-ArrowPrev"></i>
      </button>
    <% } %>

    <div class="Dialog-header Dialog-header--expanded <%= currentStep ? 'CreateDialog-header' : '' %>">
      <ul class="CreateDialog-headerSteps">
        <% if (currentStep) { %>
          <% headerSteps.forEach(function(d, i) { %>
            <li class="CreateDialog-headerStep <%- d.isCurrent ? 'is-selected' : '' %>">
              <div class="Dialog-headerIcon">
                <i class="iconFont <%- d.icon %>"></i>
                <% if (d.isFinished) { %>
                  <span class="Badge Dialog-headerIconBadge">
                    <i class="iconFont iconFont-Check"></i>
                  </span>
                <% } %>
              </div>
              <p class="Dialog-headerTitle"><%- d.title %></p>
              <p class="Dialog-headerText">Step <%- i + 2 %> of <%- headerSteps.length + 1 %></p>
            </li>
          <% }) %>
        <% } else { %>
          <li class="CreateDialog-headerStep CreateDialog-headerStep--single is-selected">
            <div class="Dialog-headerIcon">
              <i class="iconFont iconFont-MergeArrow"></i>
            </div>
            <p class="Dialog-headerTitle">Merge with another table</p>
            <p class="Dialog-headerText">Table merging is useful if you want to combine data from two tables into a single new table.</p>
            <p class="Dialog-headerText">You can merge tables by a column attribute or as a spatial intersection.</p>
          </li>
        <% } %>
      </ul>
    </div>

    <div class="Dialog-body Dialog-body--expanded CreateDialog-body">
      <div class="u-inner">
        <% if (currentStep) { %>
          <div class="MergeDatasets-instructions">
            <p class="DefaultParagraph"><%= currentStep.instructions || '' %></p>
          </div>
          <div class="js-details"></div>
        <% } else { %>
          <div class="OptionCards js-flavors"></div>
        <% } %>
      </div>
    </div>

    <div class="Dialog-footer Dialog-footer--expanded CreateDialog-footer">
      <div>
        <div class="CreateDialog-footerShadow"></div>
        <div class="CreateDialog-footerLine"></div>
        <div class="CreateDialog-footerInner ">
          <div class="CreateDialog-footerInfo">
            <i class="iconFont iconFont-Info CreateDialog-footerInfoIcon HighlightIcon HighlightIcon--warning"></i>
            New on CartoDB? Start with one of our <a href="<%- templatesURL %>">templates</a>
          </div>
          <div class="CreateDialog-footerActions">
            <% if (currentStep) { %>
              <button class="Button Button--main <%- isReadyForNextStep ? '' : 'is-disabled' %> js-next">
                <span><%- nextLabel %></span>
              </button>
            <% } %>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>
