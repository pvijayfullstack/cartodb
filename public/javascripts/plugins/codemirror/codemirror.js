var CodeMirror=(function(){function P(Aa,AX){var Bg={},A4=P.defaults;for(var AL in A4){if(A4.hasOwnProperty(AL)){Bg[AL]=(AX&&AX.hasOwnProperty(AL)?AX:A4)[AL];}}var CJ=Bg.document;var AP=CJ.createElement("div");AP.className="CodeMirror"+(Bg.lineWrapping?" CodeMirror-wrap":"");AP.innerHTML='<div style="overflow: hidden; position: relative; width: 1px; height: 0px;"><textarea style="position: absolute; width: 10000px;" wrap="off" autocorrect="off" autocapitalize="off"></textarea></div><div class="CodeMirror-scroll cm-s-'+Bg.theme+'"><div style="position: relative"><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div class="CodeMirror-lines"><div style="position: relative"><div style="position: absolute; width: 100%; height: 0; overflow: hidden; visibility: hidden"></div><pre class="CodeMirror-cursor">&#160;</pre><div></div></div></div></div></div></div>';if(Aa.appendChild){Aa.appendChild(AP);}else{Aa(AP);}var Bd=AP.firstChild,A7=Bd.firstChild,A5=AP.lastChild,BV=A5.firstChild,Bw=BV.firstChild,AU=Bw.firstChild,Al=AU.firstChild,BG=AU.nextSibling.firstChild,AH=BG.firstChild,Ay=AH.nextSibling,AC=Ay.nextSibling;if(!F){BG.draggable=true;}if(Bg.tabindex!=null){A7.tabindex=Bg.tabindex;}if(!Bg.gutter&&!Bg.lineNumbers){AU.style.display="none";}try{B5("x");}catch(Bo){if(Bo.message.match(/unknown runtime/i)){Bo=new Error("A CodeMirror inside a P-style element does not work in Internet Explorer. (innerHTML bug)");}throw Bo;}var Bn=new S(),AI=new S(),CN;var Br,B9=new G([new u([new C("")])]),Bx,Bz;BZ();var CT={from:{line:0,ch:0},to:{line:0,ch:0},inverted:false};var By,CI,BB,Am,Ax;var B2,AN,CK,Ad,A1,Ag;var Az=0,CO=0,BU=0,i=0,BC=null;var Aw,Bk;var BN="",AR;AD(function(){Aj(Bg.value||"");B2=false;})();var Au=new I();var AJ=2000;var A9=(!h&&!b)&&(d||window.opera);if(Bg.pollForIME&&A9){AJ=50;}function Bj(CW){return(h&&((d&&CW==229)||(window.opera&&CW==197)))||(b&&d);}N(A5,"mousedown",AD(B0));N(A5,"dblclick",AD(Bc));N(BG,"dragstart",AW);N(BG,"selectstart",g);if(!d){N(A5,"contextmenu",Ap);}N(A5,"scroll",function(){Bt([]);if(Bg.fixedGutter){AU.style.left=A5.scrollLeft+"px";}if(Bg.onScroll){Bg.onScroll(Bp);}});N(window,"resize",function(){Bt(true);});N(A7,"keyup",AD(B1));N(A7,"input",function(){Ae(BC);});N(A7,"keydown",AD(Bs));N(A7,"keypress",AD(A8));N(A7,"focus",CS);N(A7,"blur",AQ);N(A5,"dragenter",Q);N(A5,"dragover",Q);N(A5,"drop",AD(AA));N(A5,"paste",function(){BL();Ae();});N(A7,"paste",function(){Ae();});N(A7,"cut",function(){Ae();});var B7;try{B7=(CJ.activeElement==A7);}catch(Bo){}if(B7){setTimeout(CS,20);}else{AQ();}function BD(CW){return CW>=0&&CW<B9.size;}var Bp=AP.CodeMirror={getValue:Bh,setValue:AD(Aj),getSelection:Bi,replaceSelection:AD(BE),focus:function(){BL();CS();Ae();},setOption:function(CX,CY){var CW=Bg[CX];Bg[CX]=CY;if(CX=="lineNumbers"||CX=="gutter"||CX=="firstLineNumber"){AD(A0)();}else{if(CX=="mode"||CX=="indentUnit"){BZ();}else{if(CX=="readOnly"&&CY=="nocursor"){A7.blur();}else{if(CX=="theme"){A5.className=A5.className.replace(/cm-s-\w+/,"cm-s-"+CY);}else{if(CX=="lineWrapping"&&CW!=CY){AD(CD)();}else{if(CX=="pollForIME"&&A9){AJ=CY?50:2000;}}}}}}},getOption:function(CW){return Bg[CW];},undo:AD(CR),redo:AD(CF),indentLine:AD(function(CX,CW){if(BD(CX)){BJ(CX,CW==null?"smart":CW?"add":"subtract");}}),historySize:function(){return{undo:Au.done.length,redo:Au.undone.length};},clearHistory:function(){Au=new I();},matchBrackets:AD(function(){Bu(true);}),getTokenAt:AD(function(CW){CW=Ah(CW);return CC(CW.line).getTokenAt(Br,B6(CW.line),CW.ch);}),getStateAfter:function(CW){CW=Be(CW==null?B9.size-1:CW);return B6(CW+1);},cursorCoords:function(CW){if(CW==null){CW=CT.inverted;}return AB(CW?CT.from:CT.to);},charCoords:function(CW){return AB(Ah(CW));},coordsChar:function(CW){var CX=x(BG);return BQ(CW.x-CX.left,CW.y-CX.top);},getSearchCursor:function(CX,CY,CW){return new AV(CX,CY,CW);},markText:AD(BO),setMarker:AD(Bb),clearMarker:AD(AG),setLineClass:AD(A6),hideLine:AD(function(CW){return CG(CW,true);}),showLine:AD(function(CW){return CG(CW,false);}),lineInfo:Ai,addWidget:function(Ca,CY,Cc,CZ,Ce){Ca=CP(Ah(Ca));var Cb=Ca.yBot,CX=Ca.x;CY.style.position="absolute";BV.appendChild(CY);if(CZ=="over"){Cb=Ca.y;}else{if(CZ=="near"){var CW=Math.max(A5.offsetHeight,B9.height*BW()),Cd=Math.max(BV.clientWidth,BG.clientWidth)-As();if(Ca.yBot+CY.offsetHeight>CW&&Ca.y>CY.offsetHeight){Cb=Ca.y-CY.offsetHeight;}if(CX+CY.offsetWidth>Cd){CX=Cd-CY.offsetWidth;}}}CY.style.top=(Cb+B4())+"px";CY.style.left=CY.style.right="";if(Ce=="right"){CX=BV.clientWidth-CY.offsetWidth;CY.style.right="0px";}else{if(Ce=="left"){CX=0;}else{if(Ce=="middle"){CX=(BV.clientWidth-CY.offsetWidth)/2;}}CY.style.left=(CX+As())+"px";}if(Cc){AM(CX,Cb,CX+CY.offsetWidth,Cb+CY.offsetHeight);}},lineCount:function(){return B9.size;},getCursor:function(CW){if(CW==null){CW=CT.inverted;}return o(CW?CT.from:CT.to);},somethingSelected:function(){return !q(CT.from,CT.to);},setCursor:AD(function(CW,CX){if(CX==null&&typeof CW.line=="number"){At(CW.line,CW.ch);}else{At(CW,CX);}}),setSelection:AD(function(CX,CW){BH(Ah(CX),Ah(CW||CX));}),getLine:function(CW){if(BD(CW)){return CC(CW).text;}},setLine:AD(function(CW,CX){if(BD(CW)){BX(CX,{line:CW,ch:0},{line:CW,ch:CC(CW).text.length});}}),removeLine:AD(function(CW){if(BD(CW)){BX("",{line:CW,ch:0},Ah({line:CW+1,ch:0}));}}),replaceRange:AD(BX),getRange:function(CX,CW){return CM(Ah(CX),Ah(CW));},coordsFromIndex:function(CX){var CY=0,CW;B9.iter(0,B9.size,function(CZ){var Ca=CZ.text.length+1;if(Ca>CX){CW=CX;return true;}CX-=Ca;++CY;});return Ah({line:CY,ch:CW});},operation:function(CW){return AD(CW)();},refresh:function(){Bt(true);},getInputField:function(){return A7;},getWrapperElement:function(){return AP;},getScrollerElement:function(){return A5;},getGutterElement:function(){return AU;}};function CC(CW){return V(B9,CW);}function Aq(CX,CW){Ag=true;var CY=CW-CX.height;for(var CZ=CX;CZ;CZ=CZ.parent){CZ.height+=CY;}}function Aj(CW){var CX={line:0,ch:0};Ac(CX,{line:B9.size-1,ch:CC(B9.size-1).text.length},T(CW),CX,CX);B2=true;}function Bh(CW){var CX=[];B9.iter(0,B9.size,function(CY){CX.push(CY.text);});return CX.join("\n");}function B0(Cc){for(var CZ=H(Cc);CZ!=AP;CZ=CZ.parentNode){if(CZ.parentNode==BV&&CZ!=Bw){return ;}}for(var CZ=H(Cc);CZ!=AP;CZ=CZ.parentNode){if(CZ.parentNode==Al){if(Bg.onGutterClick){Bg.onGutterClick(Bp,L(Al.childNodes,CZ)+CO,Cc);}return g(Cc);}}var CW=Ar(Cc);switch(R(Cc)){case 3:if(d&&!b){Ap(Cc);}return ;case 2:if(CW){At(CW.line,CW.ch,true);}return ;}if(!CW){if(H(Cc)==A5){g(Cc);}return ;}if(!Bz){CS();}var CX=+new Date;if(Am&&Am.time>CX-400&&q(Am.pos,CW)){g(Cc);setTimeout(BL,20);return AY(CW.line);}else{if(BB&&BB.time>CX-400&&q(BB.pos,CW)){Am={time:CX,pos:CW};g(Cc);return BR(CW);}else{BB={time:CX,pos:CW};}}var Ce=CW,CY;if(X&&!q(CT.from,CT.to)&&!n(CW,CT.from)&&!n(CT.to,CW)){if(F){BG.draggable=true;}var Cb=N(CJ,"mouseup",AD(function(Cf){if(F){BG.draggable=false;}Ax=false;Cb();if(Math.abs(Cc.clientX-Cf.clientX)+Math.abs(Cc.clientY-Cf.clientY)<10){g(Cf);At(CW.line,CW.ch,true);BL();}}),true);Ax=true;return ;}g(Cc);At(CW.line,CW.ch,true);function Cd(Cf){var Ch=Ar(Cf,true);if(Ch&&!q(Ch,Ce)){if(!Bz){CS();}Ce=Ch;BI(CW,Ch);B2=false;var Cg=BM();if(Ch.line>=Cg.to||Ch.line<Cg.from){CY=setTimeout(AD(function(){Cd(Cf);}),150);}}}var Ca=N(CJ,"mousemove",AD(function(Cf){clearTimeout(CY);g(Cf);Cd(Cf);}),true);var Cb=N(CJ,"mouseup",AD(function(Cf){clearTimeout(CY);var Cg=Ar(Cf);if(Cg){BI(CW,Cg);}g(Cf);BL();B2=true;Ca();Cb();}),true);}function Bc(CW){for(var CY=H(CW);CY!=AP;CY=CY.parentNode){if(CY.parentNode==Al){return g(CW);}}var CX=Ar(CW);if(!CX){return ;}Am={time:+new Date,pos:CX};g(CW);BR(CX);}function AA(Cd){Cd.preventDefault();var Ce=Ar(Cd,true),CW=Cd.dataTransfer.files;if(!Ce||Bg.readOnly){return ;}if(CW&&CW.length&&window.FileReader&&window.File){function Ca(Cj,Ci){var Ch=new FileReader;Ch.onload=function(){Cg[Ci]=Ch.result;if(++CX==CY){Ce=Ah(Ce);AD(function(){var Ck=BX(Cg.join(""),Ce,Ce);BI(Ce,Ck);})();}};Ch.readAsText(Cj);}var CY=CW.length,Cg=Array(CY),CX=0;for(var Cb=0;Cb<CY;++Cb){Ca(CW[Cb],Cb);}}else{try{var Cg=Cd.dataTransfer.getData("Text");if(Cg){var CZ=BX(Cg,Ce,Ce);var Cf=CT.from,Cc=CT.to;BI(Ce,CZ);if(Ax){BX("",Cf,Cc);}BL();}}catch(Cd){}}}function AW(CX){var CW=Bi();e(CW);CX.dataTransfer.setDragImage(v,0,0);CX.dataTransfer.setData("Text",CW);}function Bs(Ca){if(!Bz){CS();}var CZ=Ca.keyCode;if(a&&CZ==27){Ca.returnValue=false;}var CY=(b?Ca.metaKey:Ca.ctrlKey)&&!Ca.altKey,CX=Ca.ctrlKey||Ca.altKey||Ca.metaKey;if(CZ==16||Ca.shiftKey){By=By||(CT.inverted?CT.to:CT.from);}else{By=null;}if(Bg.onKeyEvent&&Bg.onKeyEvent(Bp,c(Ca))){return ;}if(CZ==33||CZ==34){AS(CZ==34);return g(Ca);}if(CY&&((CZ==36||CZ==35)||b&&(CZ==38||CZ==40))){CH(CZ==36||CZ==38);return g(Ca);}if(CY&&CZ==65){BK();return g(Ca);}if(!Bg.readOnly){if(!CX&&CZ==13){return ;}if(!CX&&CZ==9&&CB(Ca.shiftKey)){return g(Ca);}if(CY&&CZ==90){CR();return g(Ca);}if(CY&&((Ca.shiftKey&&CZ==90)||CZ==89)){CF();return g(Ca);}}if(CZ==36){if(Bg.smartHome){Bm();return g(Ca);}}BC=(CY?"c":"")+(Ca.altKey?"a":"")+CZ;if(CT.inverted&&s[BC]===true){var CW=t(A7);if(CW){CI={anchor:CW.start};B(A7,CW.start,CW.start);}}if(!CY&&!Ca.altKey){BC=null;}Ae(BC);if(Bg.pollForIME&&Bj(CZ)){AJ=50;}}function B1(CW){if(Bg.onKeyEvent&&Bg.onKeyEvent(Bp,c(CW))){return ;}if(CI){CI=null;B2=true;}if(CW.keyCode==16){By=null;}if(AJ<2000&&!A9){AJ=2000;}}function A8(CY){if(Bg.onKeyEvent&&Bg.onKeyEvent(Bp,c(CY))){return ;}if(Bg.electricChars&&Br.electricChars){var CW=String.fromCharCode(CY.charCode==null?CY.keyCode:CY.charCode);if(Br.electricChars.indexOf(CW)>-1){setTimeout(AD(function(){BJ(CT.to.line,"smart");}),50);}}var CX=CY.keyCode;if(CX==13){if(!Bg.readOnly){AF();}g(CY);}else{if(!CY.ctrlKey&&!CY.altKey&&!CY.metaKey&&CX==9&&Bg.tabMode!="default"){g(CY);}else{Ae(BC);}}}function CS(){if(Bg.readOnly=="nocursor"){return ;}if(!Bz){if(Bg.onFocus){Bg.onFocus(Bp);}Bz=true;if(AP.className.search(/\bCodeMirror-focused\b/)==-1){AP.className+=" CodeMirror-focused";}if(!A1){B8();}}z();CL();}function AQ(){if(Bz){if(Bg.onBlur){Bg.onBlur(Bp);}Bz=false;AP.className=AP.className.replace(" CodeMirror-focused","");}clearInterval(CN);setTimeout(function(){if(!Bz){By=null;}},150);}function Ac(Cb,Ca,CZ,CX,CW){if(Au){var CY=[];B9.iter(Cb.line,Ca.line+1,function(Cc){CY.push(Cc.text);});Au.addChange(Cb.line,CZ.length,CY);while(Au.done.length>Bg.undoDepth){Au.done.shift();}}AE(Cb,Ca,CZ,CX,CW);}function Bq(Cb,Ca){var CZ=Cb.pop();if(CZ){var CX=[],CW=CZ.start+CZ.added;B9.iter(CZ.start,CW,function(Cc){CX.push(Cc.text);});Ca.push({start:CZ.start,added:CZ.old.length,old:CX});var CY=Ah({line:CZ.start+CZ.old.length-1,ch:k(CX[CX.length-1],CZ.old[CZ.old.length-1])});AE({line:CZ.start,ch:0},{line:CW-1,ch:CC(CW-1).text.length},CZ.old,CY,CY);B2=true;}}function CR(){Bq(Au.done,Au.undone);}function CF(){Bq(Au.undone,Au.done);}function AE(Ci,Ca,Co,CW,Cp){var Cn=false,CZ=BN.length;if(!Bg.lineWrapping){B9.iter(Ci.line,Ca.line,function(Cq){if(Cq.text.length==CZ){Cn=true;return true;}});}var Cf=Ca.line-Ci.line,Ce=CC(Ci.line),CX=CC(Ca.line);if(Ce==CX){if(Co.length==1){Ce.replace(Ci.ch,Ca.ch,Co[0]);}else{CX=Ce.split(Ca.ch,Co[Co.length-1]);var Cd=[];Ce.replace(Ci.ch,null,Co[0]);for(var Ck=1,Cm=Co.length-1;Ck<Cm;++Ck){Cd.push(C.inheritMarks(Co[Ck],Ce));}Cd.push(CX);B9.insert(Ci.line+1,Cd);}}else{if(Co.length==1){Ce.replace(Ci.ch,null,Co[0]);CX.replace(null,Ca.ch,"");Ce.append(CX);B9.remove(Ci.line+1,Cf);}else{var Cd=[];Ce.replace(Ci.ch,null,Co[0]);CX.replace(null,Ca.ch,Co[Co.length-1]);for(var Ck=1,Cm=Co.length-1;Ck<Cm;++Ck){Cd.push(C.inheritMarks(Co[Ck],Ce));}if(Cf>1){B9.remove(Ci.line+1,Cf-1);}B9.insert(Ci.line+1,Cd);}}if(Bg.lineWrapping){var Cb=A5.clientWidth/A3()-3;B9.iter(Ci.line,Ci.line+Co.length,function(Cq){if(Cq.hidden){return ;}var Cr=Math.ceil(Cq.text.length/Cb)||1;if(Cr!=Cq.height){Aq(Cq,Cr);}});}else{B9.iter(Ci.line,Ck+Co.length,function(Cr){var Cq=Cr.text;if(Cq.length>CZ){BN=Cq;CZ=Cq.length;AR=null;Cn=false;}});if(Cn){CZ=0;BN="";AR=null;B9.iter(0,B9.size,function(Cr){var Cq=Cr.text;if(Cq.length>CZ){CZ=Cq.length;BN=Cq;}});}}var CY=[],Cc=Co.length-Cf-1;for(var Ck=0,Ch=Bx.length;Ck<Ch;++Ck){var Cl=Bx[Ck];if(Cl<Ci.line){CY.push(Cl);}else{if(Cl>Ca.line){CY.push(Cl+Cc);}}}var Cj=Ci.line+Math.min(Co.length,500);CE(Ci.line,Cj);CY.push(Cj);Bx=CY;BP(100);AN.push({from:Ci.line,to:Ca.line+1,diff:Cc});CK={from:Ci,to:Ca,text:Co};function Cg(Cq){return Cq<=Math.min(Ca.line,Ca.line+Cc)?Cq:Cq+Cc;}BH(CW,Cp,Cg(CT.from.line),Cg(CT.to.line));BV.style.height=(B9.height*BW()+2*B4())+"px";}function BX(CX,Ca,CZ){Ca=Ah(Ca);if(!CZ){CZ=Ca;}else{CZ=Ah(CZ);}CX=T(CX);function CY(Cd){if(n(Cd,Ca)){return Cd;}if(!n(CZ,Cd)){return CW;}var Cb=Cd.line+CX.length-(CZ.line-Ca.line)-1;var Cc=Cd.ch;if(Cd.line==CZ.line){Cc+=CX[CX.length-1].length-(CZ.ch-(CZ.line==Ca.line?Ca.ch:0));}return{line:Cb,ch:Cc};}var CW;AO(CX,Ca,CZ,function(Cb){CW=Cb;return{from:CY(CT.from),to:CY(CT.to)};});return CW;}function BE(CW,CX){AO(T(CW),CT.from,CT.to,function(CY){if(CX=="end"){return{from:CY,to:CY};}else{if(CX=="start"){return{from:CT.from,to:CT.from};}else{return{from:CT.from,to:CY};}}});}function AO(CZ,Cb,Ca,CW){var CY=CZ.length==1?CZ[0].length+Cb.ch:CZ[CZ.length-1].length;var CX=CW({line:Cb.line+CZ.length-1,ch:CY});Ac(Cb,Ca,CZ,CX.from,CX.to);}function CM(Ca,CZ){var CX=Ca.line,CW=CZ.line;if(CX==CW){return CC(CX).text.slice(Ca.ch,CZ.ch);}var CY=[CC(CX).text.slice(Ca.ch)];B9.iter(CX+1,CW,function(Cb){CY.push(Cb.text);});CY.push(CC(CW).text.slice(0,CZ.ch));return CY.join("\n");}function Bi(){return CM(CT.from,CT.to);}var BF=false;function z(){if(BF){return ;}Bn.set(AJ,function(){Ab();BT();if(Bz){z();}AK();});}function Ae(CY){var CW=false;BF=true;function CX(){Ab();var CZ=BT();if(CZ&&CY){if(CZ=="moved"&&s[CY]==null){s[CY]=true;}if(CZ=="changed"){s[CY]=false;}}if(!CZ&&!CW){CW=true;Bn.set(80,CX);}else{BF=false;z();}AK();}Bn.set(20,CX);}function BT(){if(A1||!Bz){return ;}var Cd=false,Cl=A7.value,Cn=t(A7);if(!Cn){return false;}var Cd=Aw.text!=Cl,Cf=CI;var Ce=Cd||Cn.start!=Aw.start||Cn.end!=(Cf?Aw.start:Aw.end);if(!Ce&&!Cf){return false;}if(Cd){By=CI=null;if(Bg.readOnly){B2=true;return"changed";}}function Ca(Ct,Cr){var Cs=0;for(;;){var Cq=Cl.indexOf("\n",Cs);if(Cq==-1||(Cl.charAt(Cq-1)=="\r"?Cq-1:Cq)>=Ct){return{line:Cr,ch:Ct-Cs};}++Cr;Cs=Cq+1;}}var Cm=Ca(Cn.start,Aw.from),CX=Ca(Cn.end,Aw.from);if(Cf){var Cc=Cn.start==Cf.anchor?CX:Cm;var Cg=By?CT.to:Cn.start==Cf.anchor?Cm:CX;if(CT.inverted=n(Cc,Cg)){Cm=Cc;CX=Cg;}else{CI=null;Cm=Cg;CX=Cc;}}if(Cm.line==CX.line&&Cm.line==CT.from.line&&Cm.line==CT.to.line&&!By){B2=false;}if(Cd){var Cb=0,CZ=Cl.length,Co=Math.min(CZ,Aw.text.length);var Cp,Ci=Aw.from,CY=-1;while(Cb<Co&&(Cp=Cl.charAt(Cb))==Aw.text.charAt(Cb)){++Cb;if(Cp=="\n"){Ci++;CY=Cb;}}var Cj=CY>-1?Cb-CY:Cb,CW=Aw.to-1,Ch=Aw.text.length;for(;;){Cp=Aw.text.charAt(Ch);if(Cl.charAt(CZ)!=Cp){++CZ;++Ch;break;}if(Cp=="\n"){CW--;}if(Ch<=Cb||CZ<=Cb){break;}--CZ;--Ch;}var CY=Aw.text.lastIndexOf("\n",Ch-1),Ck=CY==-1?Ch:Ch-CY-1;Ac({line:Ci,ch:Cj},{line:CW,ch:Ck},T(Cl.slice(Cb,CZ)),Cm,CX);if(Ci!=CW||Cm.line!=Ci){B2=true;}}else{BH(Cm,CX);}Aw.text=Cl;Aw.start=Cn.start;Aw.end=Cn.end;return Cd?"changed":Ce?"moved":false;}function B8(){var CY=[];var Ca=Math.max(0,CT.from.line-1),CZ=Math.min(B9.size,CT.to.line+2);B9.iter(Ca,CZ,function(Cb){CY.push(Cb.text);});CY=A7.value=CY.join(D);var CX=CT.from.ch,CW=CT.to.ch;B9.iter(Ca,CT.from.line,function(Cb){CX+=D.length+Cb.text.length;});B9.iter(Ca,CT.to.line,function(Cb){CW+=D.length+Cb.text.length;});Aw={text:CY,from:Ca,to:CZ,start:CX,end:CW};B(A7,CX,CI?CX:CW);}function BL(){if(Bg.readOnly!="nocursor"){A7.focus();}}function CV(){if(!Ay.getBoundingClientRect){return ;}var CW=Ay.getBoundingClientRect();var CX=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);if(CW.top<0||CW.bottom>CX){Ay.scrollIntoView();}}function Bv(){var CX=CP(CT.inverted?CT.from:CT.to);var CW=Bg.lineWrapping?Math.min(CX.x,BG.offsetWidth):CX.x;return AM(CW,CX.y,CW,CX.yBot);}function AM(CY,Cd,CW,Cc){var Ca=As(),Cj=B4(),Cf=BW();Cd+=Cj;Cc+=Cj;CY+=Ca;CW+=Ca;var Cg=A5.clientHeight,CZ=A5.scrollTop,CX=false,Ci=true;if(Cd<CZ){A5.scrollTop=Math.max(0,Cd-2*Cf);CX=true;}else{if(Cc>CZ+Cg){A5.scrollTop=Cc+Cf-Cg;CX=true;}}var Ce=A5.clientWidth,Ch=A5.scrollLeft;var Cb=Bg.fixedGutter?AU.clientWidth:0;if(CY<Ch+Cb){if(CY<50){CY=0;}A5.scrollLeft=Math.max(0,CY-10-Cb);CX=true;}else{if(CW>Ce+Ch){A5.scrollLeft=CW+10-Ce;CX=true;if(CW>BV.clientWidth){Ci=false;}}}if(CX&&Bg.onScroll){Bg.onScroll(Bp);}return Ci;}function BM(){var CX=BW(),CZ=A5.scrollTop-B4();var CW=Math.max(0,Math.floor(CZ/CX));var CY=Math.ceil((CZ+A5.clientHeight)/CX);return{from:l(B9,CW),to:l(B9,CY)};}function Bt(Ce){if(!A5.clientWidth){CO=BU=Az=0;return ;}var CZ=BM();if(Ce!==true&&Ce.length==0&&CZ.from>=CO&&CZ.to<=BU){return ;}var Cf=Math.max(CZ.from-100,0),Cg=Math.min(B9.size,CZ.to+100);if(CO<Cf&&Cf-CO<20){Cf=CO;}if(BU>Cg&&BU-Cg<20){Cg=Math.min(B9.size,BU);}var Ch=Ce===true?[]:Bf([{from:CO,to:BU,domStart:0}],Ce);var Cd=0;for(var Cb=0;Cb<Ch.length;++Cb){var Cc=Ch[Cb];if(Cc.from<Cf){Cc.domStart+=(Cf-Cc.from);Cc.from=Cf;}if(Cc.to>Cg){Cc.to=Cg;}if(Cc.from>=Cc.to){Ch.splice(Cb--,1);}else{Cd+=Cc.to-Cc.from;}}if(Cd==Cg-Cf){return ;}Ch.sort(function(Cj,Ci){return Cj.domStart-Ci.domStart;});var CY=BW(),CW=AU.style.display;AC.style.display=AU.style.display="none";Af(Cf,Cg,Ch);AC.style.display="";var CX=Cf!=CO||Cg!=BU||i!=A5.clientHeight;if(CX){i=A5.clientHeight;}CO=Cf;BU=Cg;Az=E(B9,Cf);Bw.style.top=(Az*CY)+"px";BV.style.height=(B9.height*CY+2*B4())+"px";if(AC.childNodes.length!=BU-CO){throw new Error("BAD PATCH! "+JSON.stringify(Ch)+" size="+(BU-CO)+" nodes="+AC.childNodes.length);}if(Bg.lineWrapping){AR=A5.clientWidth;var Ca=AC.firstChild;B9.iter(CO,BU,function(Cj){if(!Cj.hidden){var Ci=Math.round(Ca.offsetHeight/CY)||1;if(Cj.height!=Ci){Aq(Cj,Ci);Ag=true;}}Ca=Ca.nextSibling;});}else{if(AR==null){AR=B5(BN);}if(AR>A5.clientWidth){BG.style.width=AR+"px";BV.style.width="";BV.style.width=A5.scrollWidth+"px";}else{BG.style.width=BV.style.width="";}}AU.style.display=CW;if(CX||Ag){AZ();}A2();}function Bf(Cf,Cd){for(var Ca=0,CY=Cd.length||0;Ca<CY;++Ca){var Cc=Cd[Ca],CW=[],Ce=Cc.diff||0;for(var CZ=0,CX=Cf.length;CZ<CX;++CZ){var Cb=Cf[CZ];if(Cc.to<=Cb.from&&Cc.diff){CW.push({from:Cb.from+Ce,to:Cb.to+Ce,domStart:Cb.domStart});}else{if(Cc.to<=Cb.from||Cc.from>=Cb.to){CW.push(Cb);}else{if(Cc.from>Cb.from){CW.push({from:Cb.from,to:Cc.from,domStart:Cb.domStart});}if(Cc.to<Cb.to){CW.push({from:Cc.to+Ce,to:Cb.to+Ce,domStart:Cb.domStart+(Cc.to-Cb.from)});}}}}Cf=CW;}return Cf;}function Af(Cj,Ck,Cm){if(!Cm.length){AC.innerHTML="";}else{function CW(Co){var Cn=Co.nextSibling;Co.parentNode.removeChild(Co);return Cn;}var Cc=0,CZ=AC.firstChild,CX;for(var Cd=0;Cd<Cm.length;++Cd){var Cl=Cm[Cd];while(Cl.domStart>Cc){CZ=CW(CZ);Cc++;}for(var Cb=0,Cf=Cl.to-Cl.from;Cb<Cf;++Cb){CZ=CZ.nextSibling;Cc++;}}while(CZ){CZ=CW(CZ);}}var Ce=Cm.shift(),CZ=AC.firstChild,Cb=Cj;var Ci=CT.from.line,Ch=CT.to.line,Ca=Ci<Cj&&Ch>=Cj;var Cg=CJ.createElement("div"),CY;B9.iter(Cj,Ck,function(Cn){var Cp=null,Co=null;if(Ca){Cp=0;if(Ch==Cb){Ca=false;Co=CT.to.ch;}}else{if(Ci==Cb){if(Ch==Cb){Cp=CT.from.ch;Co=CT.to.ch;}else{Ca=true;Cp=CT.from.ch;}}}if(Ce&&Ce.to==Cb){Ce=Cm.shift();}if(!Ce||Ce.from>Cb){if(Cn.hidden){Cg.innerHTML="<pre></pre>";}else{Cg.innerHTML=Cn.getHTML(Cp,Co,true);}AC.insertBefore(Cg.firstChild,CZ);}else{CZ=CZ.nextSibling;}++Cb;});}function AZ(){if(!Bg.gutter&&!Bg.lineNumbers){return ;}var CW=Bw.offsetHeight,Cd=A5.clientHeight;AU.style.height=(CW-Cd<2?Cd:CW)+"px";var CY=[],CX=CO;B9.iter(CO,Math.max(BU,CO+1),function(Cf){if(Cf.hidden){CY.push("<pre></pre>");}else{var Ce=Cf.gutterMarker;var Ch=Bg.lineNumbers?CX+Bg.firstLineNumber:null;if(Ce&&Ce.text){Ch=Ce.text.replace("%N%",Ch!=null?Ch:"");}else{if(Ch==null){Ch="\u00a0";}}CY.push((Ce&&Ce.style?'<pre class="'+Ce.style+'">':"<pre>"),Ch);for(var Cg=1;Cg<Cf.height;++Cg){CY.push("<br>&nbsp;");}CY.push("</pre>");}++CX;});AU.style.display="none";Al.innerHTML=CY.join("");var Cc=String(B9.size).length,Ca=Al.firstChild,Cb=Y(Ca),CZ="";while(Cb.length+CZ.length<Cc){CZ+="\u00a0";}if(CZ){Ca.insertBefore(CJ.createTextNode(CZ),Ca.firstChild);}AU.style.display="";BG.style.marginLeft=AU.offsetWidth+"px";Ag=false;}function A2(){var CX=CT.inverted?CT.from:CT.to,CW=BW();var CZ=CP(CX,true);var CY=CZ.y+Az*BW();Bd.style.top=Math.max(Math.min(CY,A5.offsetHeight),0)+"px";Bd.style.left=(CZ.x-A5.scrollLeft)+"px";if(q(CT.from,CT.to)){Ay.style.top=CZ.y+"px";Ay.style.left=(Bg.lineWrapping?Math.min(CZ.x,BG.offsetWidth):CZ.x)+"px";Ay.style.display="";}else{Ay.style.display="none";}}function BI(CY,CX){var CW=By&&Ah(By);if(CW){if(n(CW,CY)){CY=CW;}else{if(n(CX,CW)){CX=CW;}}}BH(CY,CX);}function BH(Ca,CZ,CW,CY){if(CW==null){CW=CT.from.line;CY=CT.to.line;}if(q(CT.from,Ca)&&q(CT.to,CZ)){return ;}if(n(CZ,Ca)){var CX=CZ;CZ=Ca;Ca=CX;}if(Ca.line!=CW){Ca=BY(Ca,CW,CT.from.ch);}if(CZ.line!=CY){CZ=BY(CZ,CY,CT.to.ch);}if(q(Ca,CZ)){CT.inverted=false;}else{if(q(Ca,CT.to)){CT.inverted=false;}else{if(q(CZ,CT.from)){CT.inverted=true;}}}if(q(Ca,CZ)){if(!q(CT.from,CT.to)){AN.push({from:CW,to:CY+1});}}else{if(q(CT.from,CT.to)){AN.push({from:Ca.line,to:CZ.line+1});}else{if(!q(Ca,CT.from)){if(Ca.line<CW){AN.push({from:Ca.line,to:Math.min(CZ.line,CW)+1});}else{AN.push({from:CW,to:Math.min(CY,Ca.line)+1});}}if(!q(CZ,CT.to)){if(CZ.line<CY){AN.push({from:Math.max(CW,Ca.line),to:CY+1});}else{AN.push({from:Math.max(Ca.line,CY),to:CZ.line+1});}}}}CT.from=Ca;CT.to=CZ;Ad=true;}function BY(Ca,CX,CY){function CZ(Cd){var Cf=Ca.line+Cd,Cc=Cd==1?B9.size:-1;while(Cf!=Cc){var Cb=CC(Cf);if(!Cb.hidden){var Ce=Ca.ch;if(Ce>CY||Ce>Cb.text.length){Ce=Cb.text.length;}return{line:Cf,ch:Ce};}Cf+=Cd;}}var CW=CC(Ca.line);if(!CW.hidden){return Ca;}if(Ca.line>=CX){return CZ(1)||CZ(-1);}else{return CZ(-1)||CZ(1);}}function At(CW,CY,CX){var CZ=Ah({line:CW,ch:CY||0});(CX?BI:BH)(CZ,CZ);}function Be(CW){return Math.max(0,Math.min(CW,B9.size-1));}function Ah(CY){if(CY.line<0){return{line:0,ch:0};}if(CY.line>=B9.size){return{line:B9.size-1,ch:CC(B9.size-1).text.length};}var CW=CY.ch,CX=CC(CY.line).text.length;if(CW==null||CW>CX){return{line:CY.line,ch:CX};}else{if(CW<0){return{line:CY.line,ch:0};}else{return CY;}}}function AS(CZ){var CW=Math.floor(A5.clientHeight/BW()),CX=CT.inverted?CT.from:CT.to;var CY=E(B9,CX.line)+(Math.max(CW-1,1)*(CZ?1:-1));At(l(B9,CY),CX.ch,true);}function CH(CW){var CX=CW?{line:0,ch:0}:{line:B9.size-1,ch:CC(B9.size-1).text.length};BI(CX,CX);}function BK(){var CW=B9.size-1;BH({line:0,ch:0},{line:CW,ch:CC(CW).text.length});}function BR(CZ){var CX=CC(CZ.line).text;var CY=CZ.ch,CW=CZ.ch;while(CY>0&&/\w/.test(CX.charAt(CY-1))){--CY;}while(CW<CX.length&&/\w/.test(CX.charAt(CW))){++CW;}BI({line:CZ.line,ch:CY},{line:CZ.line,ch:CW});}function AY(CW){BI({line:CW,ch:0},{line:CW,ch:CC(CW).text.length});}function AF(){BE("\n","end");if(Bg.enterMode!="flat"){BJ(CT.from.line,Bg.enterMode=="keep"?"prev":"smart");}}function CB(CW){function CX(Ca){if(q(CT.from,CT.to)){return BJ(CT.from.line,Ca);}var CZ=CT.to.line-(CT.to.ch?0:1);for(var CY=CT.from.line;CY<=CZ;++CY){BJ(CY,Ca);}}By=null;switch(Bg.tabMode){case"default":return false;case"indent":CX("smart");break;case"classic":if(q(CT.from,CT.to)){if(CW){BJ(CT.from.line,"smart");}else{BE("\t","end");}break;}case"shift":CX(CW?"subtract":"add");break;}return true;}function Bm(){var CW=Math.max(0,CC(CT.from.line).text.search(/\S/));At(CT.from.line,CT.from.ch<=CW&&CT.from.ch?0:CW,true);}function BJ(CY,Cf){if(Cf=="smart"){if(!Br.indent){Cf="prev";}else{var CW=B6(CY);}}var Cg=CC(CY),Ca=Cg.indentation(),CX=Cg.text.match(/^\s*/)[0],Cc;if(Cf=="prev"){if(CY){Cc=CC(CY-1).indentation();}else{Cc=0;}}else{if(Cf=="smart"){Cc=Br.indent(CW,Cg.text.slice(CX.length));}else{if(Cf=="add"){Cc=Ca+Bg.indentUnit;}else{if(Cf=="subtract"){Cc=Ca-Bg.indentUnit;}}}}Cc=Math.max(0,Cc);var Ce=Cc-Ca;if(!Ce){if(CT.from.line!=CY&&CT.to.line!=CY){return ;}var Cd=CX;}else{var Cd="",Cb=0;if(Bg.indentWithTabs){for(var CZ=Math.floor(Cc/U);CZ;--CZ){Cb+=U;Cd+="\t";}}while(Cb<Cc){++Cb;Cd+=" ";}}BX(Cd,{line:CY,ch:0},{line:CY,ch:CX.length});}function BZ(){Br=P.getMode(Bg,Bg.mode);B9.iter(0,B9.size,function(CW){CW.stateAfter=null;});Bx=[0];BP();}function A0(){var CW=Bg.gutter||Bg.lineNumbers;AU.style.display=CW?"":"none";if(CW){Ag=true;}else{AC.parentNode.style.marginLeft=0;}}function CD(CY,CX){if(Bg.lineWrapping){AP.className+=" CodeMirror-wrap";var CW=A5.clientWidth/A3()-3;B9.iter(0,B9.size,function(CZ){if(CZ.hidden){return ;}var Ca=Math.ceil(CZ.text.length/CW)||1;if(Ca!=1){Aq(CZ,Ca);}});BG.style.width=BV.style.width="";}else{AP.className=AP.className.replace(" CodeMirror-wrap","");AR=null;BN="";B9.iter(0,B9.size,function(CZ){if(CZ.height!=1&&!CZ.hidden){Aq(CZ,1);}if(CZ.text.length>BN.length){BN=CZ.text;}});}AN.push({from:0,to:B9.size});}function BO(Cc,Cb,CX){Cc=Ah(Cc);Cb=Ah(Cb);var Ca=[];function CZ(Cd,Cg,Cf,Ce){mark=CC(Cd).addMark(Cg,Cf,Ce,Ca);}if(Cc.line==Cb.line){CZ(Cc.line,Cc.ch,Cb.ch,CX);}else{CZ(Cc.line,Cc.ch,null,CX);for(var CW=Cc.line+1,CY=Cb.line;CW<CY;++CW){CZ(CW,0,null,CX);}CZ(Cb.line,0,Cb.ch,CX);}AN.push({from:Cc.line,to:Cb.line+1});return new CU(Ca);}function CU(CW){this.set=CW;}CU.prototype.clear=AD(function(){for(var CY=0,CZ=this.set.length;CY<CZ;++CY){var CW=this.set[CY].marked;if(!CW){continue;}for(var CX=0;CX<CW.length;++CX){if(CW[CX].set==this.set){CW.splice(CX--,1);}}}AN.push({from:0,to:B9.size});});CU.prototype.find=function(){var Cb,Cc;for(var CY=0,Ca=this.set.length;CY<Ca;++CY){var Ce=this.set[CY],CZ=Ce.marked;for(var CX=0;CX<CZ.length;++CX){var CW=CZ[CX];if(CW.set==this.set){if(CW.from!=null||CW.to!=null){var Cd=m(Ce);if(Cd!=null){if(CW.from!=null){Cb={line:Cd,ch:CW.from};}if(CW.to!=null){Cc={line:Cd,ch:CW.to};}}}}}}return{from:Cb,to:Cc};};function Bb(CW,CY,CX){if(typeof CW=="number"){CW=CC(Be(CW));}CW.gutterMarker={text:CY,style:CX};Ag=true;return CW;}function AG(CW){if(typeof CW=="number"){CW=CC(Be(CW));}CW.gutterMarker=null;Ag=true;}function Ak(CX,CZ){var CY=CX,CW=CX;if(typeof CX=="number"){CW=CC(Be(CX));}else{CY=m(CX);}if(CY==null){return null;}if(CZ(CW,CY)){AN.push({from:CY,to:CY+1});}return CW;}function A6(CX,CW){return Ak(CX,function(CY){if(CY.className!=CW){CY.className=CW;return true;}});}function CG(CX,CW){return Ak(CX,function(CY,CZ){if(CY.hidden!=CW){CY.hidden=CW;Aq(CY,CW?0:1);if(CW&&(CT.from.line==CZ||CT.to.line==CZ)){BH(BY(CT.from,CT.from.line,CT.from.ch),BY(CT.to,CT.to.line,CT.to.ch));}return(Ag=true);}});}function Ai(CX){if(typeof CX=="number"){if(!BD(CX)){return null;}var CY=CX;CX=CC(CX);if(!CX){return null;}}else{var CY=m(CX);if(CY==null){return null;}}var CW=CX.gutterMarker;return{line:CY,text:CX.text,markerText:CW&&CW.text,markerClass:CW&&CW.style,lineClass:CX.className};}function B5(CW){AH.innerHTML="<pre><span>x</span></pre>";AH.firstChild.firstChild.firstChild.nodeValue=CW;return AH.firstChild.firstChild.offsetWidth||10;}function AT(Ci,Cc){if(Cc<=0){return 0;}var CZ=CC(Ci),Cf=CZ.text;function Cg(Cj){AH.innerHTML="<pre><span>"+CZ.getHTML(null,null,false,Cj)+"</span></pre>";return AH.firstChild.firstChild.offsetWidth;}var Cd=0,Cb=0,Ce=Cf.length,Ca;var CX=Math.min(Ce,Math.ceil(Cc/A3()));for(;;){var CY=Cg(CX);if(CY<=Cc&&CX<Ce){CX=Math.min(Ce,Math.ceil(CX*1.2));}else{Ca=CY;Ce=CX;break;}}if(Cc>Ca){return Ce;}CX=Math.floor(Ce*0.8);CY=Cg(CX);if(CY<Cc){Cd=CX;Cb=CY;}for(;;){if(Ce-Cd<=1){return(Ca-Cc>Cc-Cb)?Cd:Ce;}var Ch=Math.ceil((Cd+Ce)/2),CW=Cg(Ch);if(CW>Cc){Ce=Ch;Ca=CW;}else{Cd=Ch;Cb=CW;}}}var CA=Math.floor(Math.random()*16777215).toString(16);function Bl(CY,Cb){var CW="";if(Bg.lineWrapping){var CX=CY.text.indexOf(" ",Cb+2);CW=CY.text.slice(Cb+1,CX<0?CY.text.length:CX+(a?5:0));}AH.innerHTML="<pre>"+CY.getHTML(null,null,false,Cb)+'<span id="CodeMirror-temp-'+CA+'">'+(CY.text.charAt(Cb)||" ")+"</span>"+CW+"</pre>";var Ca=document.getElementById("CodeMirror-temp-"+CA);var Cd=Ca.offsetTop,Cc=Ca.offsetLeft;if(a&&Cb&&Cd==0&&Cc==0){var CZ=document.createElement("span");CZ.innerHTML="x";Ca.parentNode.insertBefore(CZ,Ca.nextSibling);Cd=CZ.offsetTop;}return{top:Cd,left:Cc};}function CP(Cb,CZ){var CW,CX=BW(),Ca=CX*(E(B9,Cb.line)-(CZ?Az:0));if(Cb.ch==0){CW=0;}else{var CY=Bl(CC(Cb.line),Cb.ch);CW=CY.left;if(Bg.lineWrapping){Ca+=Math.max(0,CY.top);}}return{x:CW,y:Ca,yBot:Ca+CX};}function BQ(Cf,Ce){if(Ce<0){Ce=0;}var Cc=BW(),Ca=A3(),Cl=Az+Math.floor(Ce/Cc);var Cg=l(B9,Cl);if(Cg>=B9.size){return{line:B9.size-1,ch:0};}var CX=CC(Cg),Ci=CX.text;var Cn=Bg.lineWrapping,Cd=Cn?Cl-E(B9,Cg):0;if(Cf<=0&&Cd==0){return{line:Cg,ch:0};}function Cm(Cp){var Cq=Bl(CX,Cp);if(Cn){var Cr=Math.round(Cq.top/Cc);return Math.max(0,Cq.left+(Cr-Cd)*A5.clientWidth);}return Cq.left;}var Ck=0,Cj=0,CY=Ci.length,CW;var Ch=Math.min(CY,Math.ceil((Cf+Cd*A5.clientWidth*0.9)/Ca));for(;;){var Cb=Cm(Ch);if(Cb<=Cf&&Ch<CY){Ch=Math.min(CY,Math.ceil(Ch*1.2));}else{CW=Cb;CY=Ch;break;}}if(Cf>CW){return{line:Cg,ch:CY};}Ch=Math.floor(CY*0.8);Cb=Cm(Ch);if(Cb<Cf){Ck=Ch;Cj=Cb;}for(;;){if(CY-Ck<=1){return{line:Cg,ch:(CW-Cf>Cf-Cj)?Ck:CY};}var Co=Math.ceil((Ck+CY)/2),CZ=Cm(Co);if(CZ>Cf){CY=Co;CW=CZ;}else{Ck=Co;Cj=CZ;}}}function AB(CY){var CW=CP(CY,true),CX=x(BG);return{x:CX.left+CW.x,y:CX.top+CW.y,yBot:CX.top+CW.yBot};}var Ao,An;function BW(){var CW=AC.offsetHeight;if(CW==An){return Ao;}An=CW;AH.innerHTML="<pre>x<br>x<br>x<br>x<br>x<br>x<br>x<br>x<br>x<br>x</pre>";return(Ao=AH.firstChild.offsetHeight/10||1);}var CQ,An=0;function A3(){if(A5.clientWidth==An){return CQ;}An=A5.clientWidth;return(CQ=B5("x"));}function B4(){return BG.offsetTop;}function As(){return BG.offsetLeft;}function Ar(Ca,CZ){var CY=x(A5,true),CW,Cb;try{CW=Ca.clientX;Cb=Ca.clientY;}catch(Ca){return null;}if(!CZ&&(CW-CY.left>A5.clientWidth||Cb-CY.top>A5.clientHeight)){return null;}var CX=x(BG,true);return BQ(CW-CX.left,Cb-CX.top);}function Ap(CX){var Cb=Ar(CX);if(!Cb||window.opera){return ;}if(q(CT.from,CT.to)||n(Cb,CT.from)||!n(Cb,CT.to)){AD(At)(Cb.line,Cb.ch);}var Ca=A7.style.cssText;Bd.style.position="absolute";A7.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(CX.clientY-5)+"px; left: "+(CX.clientX-5)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";A1=true;var CZ=A7.value=Bi();BL();B(A7,0,A7.value.length);function CW(){var Cc=T(A7.value).join("\n");if(Cc!=CZ){AD(BE)(Cc,"end");}Bd.style.position="relative";A7.style.cssText=Ca;A1=false;B8();z();}if(d){Q(CX);var CY=N(window,"mouseup",function(){CY();setTimeout(CW,20);},true);}else{setTimeout(CW,50);}}function CL(){clearInterval(CN);var CW=true;Ay.style.visibility="";CN=setInterval(function(){Ay.style.visibility=(CW=!CW)?"":"hidden";},650);}var BA={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"};function Bu(Cc){var CW=CT.inverted?CT.from:CT.to,Ce=CC(CW.line),CX=CW.ch-1;var Cb=(CX>=0&&BA[Ce.text.charAt(CX)])||BA[Ce.text.charAt(++CX)];if(!Cb){return ;}var Cf=Cb.charAt(0),Cd=Cb.charAt(1)==">",Cp=Cd?1:-1,Ck=Ce.styles;for(var Cq=CX+1,Cm=0,Co=Ck.length;Cm<Co;Cm+=2){if((Cq-=Ck[Cm].length)<=0){var Cn=Ck[Cm+1];break;}}var CZ=[Ce.text.charAt(CX)],Cj=/[(){}[\]]/;function Ch(C2,Cx,Cy){if(!C2.text){return ;}var C1=C2.styles,Cw=Cd?0:C2.text.length-1,Cz;for(var Ct=Cd?0:C1.length-2,Cv=Cd?C1.length:-2;Ct!=Cv;Ct+=2*Cp){var C0=C1[Ct];if(C1[Ct+1]!=null&&C1[Ct+1]!=Cn){Cw+=Cp*C0.length;continue;}for(var Cs=Cd?0:C0.length-1,Cr=Cd?C0.length:-1;Cs!=Cr;Cs+=Cp,Cw+=Cp){if(Cw>=Cx&&Cw<Cy&&Cj.test(Cz=C0.charAt(Cs))){var Cu=BA[Cz];if(Cu.charAt(1)==">"==Cd){CZ.push(Cz);}else{if(CZ.pop()!=Cu.charAt(0)){return{pos:Cw,match:false};}else{if(!CZ.length){return{pos:Cw,match:true};}}}}}}}for(var Cm=CW.line,Co=Cd?Math.min(Cm+100,B9.size):Math.max(-1,Cm-100);Cm!=Co;Cm+=Cp){var Ce=CC(Cm),Ca=Cm==CW.line;var Cg=Ch(Ce,Ca&&Cd?CX+1:0,Ca&&!Cd?CX:Ce.text.length);if(Cg){break;}}if(!Cg){Cg={pos:null,match:false};}var Cn=Cg.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";var Cl=BO({line:CW.line,ch:CX},{line:CW.line,ch:CX+1},Cn),CY=Cg.pos!=null&&BO({line:Cm,ch:Cg.pos},{line:Cm,ch:Cg.pos+1},Cn);var Ci=AD(function(){Cl.clear();CY&&CY.clear();});if(Cc){setTimeout(Ci,800);}else{Bk=Ci;}}function Av(Cc){var Cb,CY;for(var CX=Cc,CZ=Cc-40;CX>CZ;--CX){if(CX==0){return 0;}var CW=CC(CX-1);if(CW.stateAfter){return CX;}var Ca=CW.indentation();if(CY==null||Cb>Ca){CY=CX-1;Cb=Ca;}}return CY;}function B6(CY){var CX=Av(CY),CW=CX&&CC(CX-1).stateAfter;if(!CW){CW=j(Br);}else{CW=K(Br,CW);}B9.iter(CX,CY,function(CZ){CZ.highlight(Br,CW);CZ.stateAfter=K(Br,CW);});if(CX<CY){AN.push({from:CX,to:CY});}if(CY<B9.size&&!CC(CY).stateAfter){Bx.push(CY);}return CW;}function CE(CY,CW){var CX=B6(CY);B9.iter(CY,CW,function(CZ){CZ.highlight(Br,CX);CZ.stateAfter=K(Br,CX);});}function Ba(){var Cc=+new Date+Bg.workTime;var Cf=Bx.length;while(Bx.length){if(!CC(CO).stateAfter){var CZ=CO;}else{var CZ=Bx.pop();}if(CZ>=B9.size){continue;}var CX=Av(CZ),CW=CX&&CC(CX-1).stateAfter;if(CW){CW=K(Br,CW);}else{CW=j(Br);}var Cb=0,CY=Br.compareStates,Ce=false,Cd=CX,Ca=false;B9.iter(Cd,B9.size,function(Cg){var Ch=Cg.stateAfter;if(+new Date>Cc){Bx.push(Cd);BP(Bg.workDelay);if(Ce){AN.push({from:CZ,to:Cd+1});}return(Ca=true);}var Ci=Cg.highlight(Br,CW);if(Ci){Ce=true;}Cg.stateAfter=K(Br,CW);if(CY){if(Ch&&CY(Ch,CW)){return true;}}else{if(Ci!==false||!Ch){Cb=0;}else{if(++Cb>3){return true;}}}++Cd;});if(Ca){return ;}if(Ce){AN.push({from:CZ,to:Cd+1});}}if(Cf&&Bg.onHighlightComplete){Bg.onHighlightComplete(Bp);}}function BP(CW){if(!Bx.length){return ;}AI.set(CW,AD(Ba));}function Ab(){B2=null;AN=[];CK=Ad=false;}function AK(){var CX=false;if(Ad){CX=!Bv();}if(AN.length){Bt(AN);}else{if(Ad){A2();}if(Ag){AZ();}}if(CX){Bv();}if(Ad){CV();CL();}if(Bz&&!A1&&(B2===true||(B2!==false&&Ad))){B8();}if(Ad&&Bg.matchBrackets){setTimeout(AD(function(){if(Bk){Bk();Bk=null;}Bu(false);}),20);}var CW=CK;if(Ad&&Bg.onCursorActivity){Bg.onCursorActivity(Bp);}if(CW&&Bg.onChange&&Bp){Bg.onChange(Bp,CW);}}var B3=0;function AD(CW){return function(){if(!B3++){Ab();}try{var CX=CW.apply(this,arguments);}finally{if(!--B3){AK();}}return CX;};}function AV(CY,Ca,CX){this.atOccurrence=false;if(CX==null){CX=typeof CY=="string"&&CY==CY.toLowerCase();}if(Ca&&typeof Ca=="object"){Ca=Ah(Ca);}else{Ca={line:0,ch:0};}this.pos={from:Ca,to:Ca};if(typeof CY!="string"){this.matches=function(Cd,Ch){if(Cd){var Cb=CC(Ch.line).text.slice(0,Ch.ch),Cc=Cb.match(CY),Cg=0;while(Cc){var Ce=Cb.indexOf(Cc[0]);Cg+=Ce;Cb=Cb.slice(Ce+1);var Cf=Cb.match(CY);if(Cf){Cc=Cf;}else{break;}Cg++;}}else{var Cb=CC(Ch.line).text.slice(Ch.ch),Cc=Cb.match(CY),Cg=Cc&&Ch.ch+Cb.indexOf(Cc[0]);}if(Cc){return{from:{line:Ch.line,ch:Cg},to:{line:Ch.line,ch:Cg+Cc[0].length},match:Cc};}};}else{if(CX){CY=CY.toLowerCase();}var CW=CX?function(Cb){return Cb.toLowerCase();}:function(Cb){return Cb;};var CZ=CY.split("\n");if(CZ.length==1){this.matches=function(Ce,Cf){var Cc=CW(CC(Cf.line).text),Cb=CY.length,Cd;if(Ce?(Cf.ch>=Cb&&(Cd=Cc.lastIndexOf(CY,Cf.ch-Cb))!=-1):(Cd=Cc.indexOf(CY,Cf.ch))!=-1){return{from:{line:Cf.line,ch:Cd},to:{line:Cf.line,ch:Cd+Cb}};}};}else{this.matches=function(Cg,Ci){var Ch=Ci.line,Cj=(Cg?CZ.length-1:0),Ce=CZ[Cj],Ck=CW(CC(Ch).text);var Cf=(Cg?Ck.indexOf(Ce)+Ce.length:Ck.lastIndexOf(Ce));if(Cg?Cf>=Ci.ch||Cf!=Ce.length:Cf<=Ci.ch||Cf!=Ck.length-Ce.length){return ;}for(;;){if(Cg?!Ch:Ch==B9.size-1){return ;}Ck=CW(CC(Ch+=Cg?-1:1).text);Ce=CZ[Cg?--Cj:++Cj];if(Cj>0&&Cj<CZ.length-1){if(Ck!=Ce){return ;}else{continue;}}var Cd=(Cg?Ck.lastIndexOf(Ce):Ck.indexOf(Ce)+Ce.length);if(Cg?Cd!=Ck.length-Ce.length:Cd!=Ce.length){return ;}var Cb={line:Ci.line,ch:Cf},Cc={line:Ch,ch:Cd};return{from:Cg?Cc:Cb,to:Cg?Cb:Cc};}};}}}AV.prototype={findNext:function(){return this.find(false);},findPrevious:function(){return this.find(true);},find:function(CX){var CW=this,CZ=Ah(CX?this.pos.from:this.pos.to);function CY(Ca){var Cb={line:Ca,ch:0};CW.pos={from:Cb,to:Cb};CW.atOccurrence=false;return false;}for(;;){if(this.pos=this.matches(CX,CZ)){this.atOccurrence=true;return this.pos.match||true;}if(CX){if(!CZ.line){return CY(0);}CZ={line:CZ.line-1,ch:CC(CZ.line-1).text.length};}else{if(CZ.line==B9.size-1){return CY(B9.size);}CZ={line:CZ.line+1,ch:0};}}},from:function(){if(this.atOccurrence){return o(this.pos.from);}},to:function(){if(this.atOccurrence){return o(this.pos.to);}},replace:function(CX){var CW=this;if(this.atOccurrence){AD(function(){CW.pos.to=BX(CX,CW.pos.from,CW.pos.to);})();}}};for(var BS in p){if(p.propertyIsEnumerable(BS)&&!Bp.propertyIsEnumerable(BS)){Bp[BS]=p[BS];}}return Bp;}P.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:false,tabMode:"classic",enterMode:"indent",electricChars:true,onKeyEvent:null,lineWrapping:false,lineNumbers:false,gutter:false,fixedGutter:false,firstLineNumber:1,readOnly:false,smartHome:true,onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:false,workTime:100,workDelay:200,undoDepth:40,tabindex:null,pollForIME:false,document:window.document};var w={},f={};P.defineMode=function(i,z){if(!P.defaults.mode&&i!="null"){P.defaults.mode=i;}w[i]=z;};P.defineMIME=function(z,i){f[z]=i;};P.getMode=function(AA,i){if(typeof i=="string"&&f.hasOwnProperty(i)){i=f[i];}if(typeof i=="string"){var AC=i,z={};}else{if(i!=null){var AC=i.name,z=i;}}var AB=w[AC];if(!AB){if(window.console){console.warn("No mode "+AC+" found, falling back to plain text.");}return P.getMode(AA,"text/plain");}return AB(AA,z||{});};P.listModes=function(){var z=[];for(var i in w){if(w.propertyIsEnumerable(i)){z.push(i);}}return z;};P.listMIMEs=function(){var z=[];for(var i in f){if(f.propertyIsEnumerable(i)){z.push({mime:i,mode:f[i]});}}return z;};var p={};P.defineExtension=function(i,z){p[i]=z;};P.fromTextArea=function(z,AB){if(!AB){AB={};}AB.value=z.value;if(!AB.tabindex&&z.tabindex){AB.tabindex=z.tabindex;}function AD(){z.value=i.getValue();}if(z.form){var AC=N(z.form,"submit",AD,true);if(typeof z.form.submit=="function"){var AA=z.form.submit;function AE(){AD();z.form.submit=AA;z.form.submit();z.form.submit=AE;}z.form.submit=AE;}}z.style.display="none";var i=P(function(AF){z.parentNode.insertBefore(AF,z.nextSibling);},AB);i.save=AD;i.toTextArea=function(){AD();z.parentNode.removeChild(i.getWrapperElement());z.style.display="";if(z.form){AC();if(typeof z.form.submit=="function"){z.form.submit=AA;}}};return i;};function K(AB,i){if(i===true){return i;}if(AB.copyState){return AB.copyState(i);}var AA={};for(var AC in i){var z=i[AC];if(z instanceof Array){z=z.concat([]);}AA[AC]=z;}return AA;}P.copyState=K;function j(AA,z,i){return AA.startState?AA.startState(z,i):true;}P.startState=j;function A(i){this.pos=this.start=0;this.string=i;}A.prototype={eol:function(){return this.pos>=this.string.length;},sol:function(){return this.pos==0;},peek:function(){return this.string.charAt(this.pos);},next:function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++);}},eat:function(i){var AA=this.string.charAt(this.pos);if(typeof i=="string"){var z=AA==i;}else{var z=AA&&(i.test?i.test(AA):i(AA));}if(z){++this.pos;return AA;}},eatWhile:function(i){var z=this.pos;while(this.eat(i)){}return this.pos>z;},eatSpace:function(){var i=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++this.pos;}return this.pos>i;},skipToEnd:function(){this.pos=this.string.length;},skipTo:function(i){var z=this.string.indexOf(i,this.pos);if(z>-1){this.pos=z;return true;}},backUp:function(i){this.pos-=i;},column:function(){return J(this.string,this.start);},indentation:function(){return J(this.string);},match:function(AB,z,i){if(typeof AB=="string"){function AC(AD){return i?AD.toLowerCase():AD;}if(AC(this.string).indexOf(AC(AB),this.pos)==this.pos){if(z!==false){this.pos+=AB.length;}return true;}}else{var AA=this.string.slice(this.pos).match(AB);if(AA&&z!==false){this.pos+=AA[0].length;}return AA;}},current:function(){return this.string.slice(this.start,this.pos);}};P.StringStream=A;function C(z,i){this.styles=i||[z,null];this.text=z;this.height=1;this.marked=this.gutterMarker=this.className=null;this.stateAfter=this.parent=this.hidden=null;}C.inheritMarks=function(AD,AF){var AC=new C(AD),z=AF.marked;if(z){for(var AB=0;AB<z.length;++AB){if(z[AB].to==null){var AA=AC.marked||(AC.marked=[]),AE=z[AB];AA.push({from:null,to:null,style:AE.style,set:AE.set});AE.set.push(AC);}}}return AC;};C.prototype={replace:function(AE,AD,AJ){if(!AE&&(AD==null||AD==this.text.length)){this.className=this.gutterMarker=null;}var AK=[],AC=this.marked,AF=AD==null?this.text.length:AD;y(0,AE,this.styles,AK);if(AJ){AK.push(AJ,null);}y(AF,this.text.length,this.styles,AK);this.styles=AK;this.text=this.text.slice(0,AE)+AJ+this.text.slice(AF);this.stateAfter=null;if(AC){var AG=AJ.length-(AF-AE),AA=this.text.length;var AH=Math.min(AE,AE+AG);for(var AB=0;AB<AC.length;++AB){var z=AC[AB],AI=false;if(z.from!=null&&z.from>=AA){AI=true;}else{if(z.from!=null&&z.from>=AE){z.from=Math.max(z.from,AF)+AG;if(z.from<=0){z.from=AE==null?null:0;}}else{if(AD==null){z.to=null;}}if(z.to!=null&&z.to>AE){z.to=Math.max(z.to,AF)+AG;if(z.to<=0){AI=true;}}}if(AI||(z.from!=null&&z.to!=null&&z.from>=z.to)){AC.splice(AB--,1);}}}},split:function(AF,AD){var AB=[AD,null],z=this.marked;y(AF,this.text.length,this.styles,AB);var AA=new C(AD+this.text.slice(AF),AB);if(z){for(var AC=0;AC<z.length;++AC){var AE=z[AC];if(AE.to>AF||AE.to==null){if(!AA.marked){AA.marked=[];}AA.marked.push({from:AE.from<AF||AE.from==null?null:AE.from-AF+AD.length,to:AE.to==null?null:AE.to-AF+AD.length,style:AE.style,set:AE.set});AE.set.push(AA);}}}return AA;},append:function(AA){if(!AA.text.length){return ;}var AF=this.text.length,z=AA.marked;this.text+=AA.text;y(0,AA.text.length,AA.styles,this.styles);if(z&&z.length){var AD=this.marked||(this.marked=[]);for(var AE=0;AE<AD.length;++AE){if(AD[AE].to==null){AD[AE].to=AF;}}outer:for(var AE=0;AE<z.length;++AE){var AG=z[AE];if(!AG.from){for(var AC=0;AC<AD.length;++AC){var AB=AD[AC];if(AB.to==AF&&AB.set==AG.set){AB.to=AG.to==null?null:AG.to+AF;continue outer;}}}AD.push(AG);AG.set.push(this);AG.from+=AF;if(AG.to!=null){AG.to+=AF;}}}},addMark:function(AB,AA,i,z){z.push(this);if(this.marked==null){this.marked=[];}this.marked.push({from:AB,to:AA,style:i,set:z});this.marked.sort(function(AD,AC){return(AD.from||0)-(AC.from||0);});},highlight:function(AD,z){var AF=new A(this.text),AH=this.styles,AE=0;var AC=false,AA=AH[0],AG;if(this.text==""&&AD.blankLine){AD.blankLine(z);}while(!AF.eol()){var i=AD.token(AF,z);var AB=this.text.slice(AF.start,AF.pos);AF.start=AF.pos;if(AE&&AH[AE-1]==i){AH[AE-2]+=AB;}else{if(AB){if(!AC&&(AH[AE+1]!=i||(AE&&AH[AE-2]!=AG))){AC=true;}AH[AE++]=AB;AH[AE++]=i;AG=AA;AA=AH[AE];}}if(AF.pos>5000){AH[AE++]=this.text.slice(AF.pos);AH[AE++]=null;break;}}if(AH.length!=AE){AH.length=AE;AC=true;}if(AE&&AH[AE-2]!=AG){AC=true;}return AC||(AH.length<5&&this.text.length<10?null:false);},getTokenAt:function(AD,AB,AA){var i=this.text,AC=new A(i);while(AC.pos<AA&&!AC.eol()){AC.start=AC.pos;var z=AD.token(AC,AB);}return{start:AC.start,end:AC.pos,string:AC.current(),className:z||null,state:AB};},indentation:function(){return J(this.text);},getHTML:function(AM,AQ,AD,AO){var AG=[],AC=true;if(AD){AG.push(this.className?'<pre class="'+this.className+'">':"<pre>");}function AR(AZ,i){if(!AZ){return ;}if(AC&&a&&AZ.charAt(0)==" "){AZ="\u00a0"+AZ.slice(1);}AC=false;if(i){AG.push('<span class="',i,'">',e(AZ),"</span>");}else{AG.push(e(AZ));}}var AL=this.styles,AE=this.text,AK=this.marked;if(AM==AQ){AM=null;}var AT=AE.length;if(AO!=null){AT=Math.min(AO,AT);}if(!AE&&AO==null){AR(" ",AM!=null&&AQ==null?"CodeMirror-selected":null);}else{if(!AK&&AM==null){for(var AS=0,AH=0;AH<AT;AS+=2){var AN=AL[AS],AU=AL[AS+1],AP=AN.length;if(AH+AP>AT){AN=AN.slice(0,AT-AH);}AH+=AP;AR(AN,AU&&"cm-"+AU);}}else{var AB=0,AS=0,AJ="",AU,AX=0;var AV=-1,AF=null;function AW(){if(AK){AV+=1;AF=(AV<AK.length)?AK[AV]:null;}}AW();while(AB<AT){var AI=AT;var AY="";if(AM!=null){if(AM>AB){AI=AM;}else{if(AQ==null||AQ>AB){AY=" CodeMirror-selected";if(AQ!=null){AI=Math.min(AI,AQ);}}}}while(AF&&AF.to!=null&&AF.to<=AB){AW();}if(AF){if(AF.from>AB){AI=Math.min(AI,AF.from);}else{AY+=" "+AF.style;if(AF.to!=null){AI=Math.min(AI,AF.to);}}}for(;;){var AA=AB+AJ.length;var z=AU;if(AY){z=AU?AU+AY:AY;}AR(AA>AI?AJ.slice(0,AI-AB):AJ,z);if(AA>=AI){AJ=AJ.slice(AI-AB);AB=AI;break;}AB=AA;AJ=AL[AS++];AU="cm-"+AL[AS++];}}if(AM!=null&&AQ==null){AR(" ","CodeMirror-selected");}}}if(AD){AG.push("</pre>");}return AG.join("");},cleanUp:function(){this.parent=null;if(this.marked){for(var z=0,AA=this.marked.length;z<AA;++z){var AB=this.marked[z].set;AB.splice(L(AB,this),1);}}}};function y(AF,AG,z,AH){for(var AD=0,AE=0,AA=0;AE<AG;AD+=2){var AB=z[AD],AC=AE+AB.length;if(AA==0){if(AC>AF){AH.push(AB.slice(AF-AE,Math.min(AB.length,AG-AE)),z[AD+1]);}if(AC>=AF){AA=1;}}else{if(AA==1){if(AC>AG){AH.push(AB.slice(0,AG-AE),z[AD+1]);}else{AH.push(AB,z[AD+1]);}}}AE=AC;}}function u(AA){this.lines=AA;this.parent=null;for(var AB=0,AC=AA.length,z=0;AB<AC;++AB){AA[AB].parent=this;z+=AA[AB].height;}this.height=z;}u.prototype={chunkSize:function(){return this.lines.length;},remove:function(z,AD){for(var AB=z,AC=z+AD;AB<AC;++AB){var AA=this.lines[AB];AA.cleanUp();this.height-=AA.height;}this.lines.splice(z,AD);},collapse:function(i){i.splice.apply(i,[i.length,0].concat(this.lines));},insertHeight:function(AA,AB,z){this.height+=z;this.lines.splice.apply(this.lines,[AA,0].concat(AB));for(var AC=0,AD=AB.length;AC<AD;++AC){AB[AC].parent=this;}},iterN:function(i,AB,AA){for(var z=i+AB;i<z;++i){if(AA(this.lines[i])){return true;}}}};function G(AC){this.children=AC;var AB=0,z=0;for(var AA=0,AE=AC.length;AA<AE;++AA){var AD=AC[AA];AB+=AD.chunkSize();z+=AD.height;AD.parent=this;}this.size=AB;this.height=z;this.parent=null;}G.prototype={chunkSize:function(){return this.size;},remove:function(z,AG){this.size-=AG;for(var AB=0;AB<this.children.length;++AB){var AF=this.children[AB],AD=AF.chunkSize();if(z<AD){var AC=Math.min(AG,AD-z),AE=AF.height;AF.remove(z,AC);this.height-=AE-AF.height;if(AD==AC){this.children.splice(AB--,1);AF.parent=null;}if((AG-=AC)==0){break;}z=0;}else{z-=AD;}}if(this.size-AG<25){var AA=[];this.collapse(AA);this.children=[new u(AA)];}},collapse:function(z){for(var AA=0,AB=this.children.length;AA<AB;++AA){this.children[AA].collapse(z);}},insert:function(AA,AB){var z=0;for(var AC=0,AD=AB.length;AC<AD;++AC){z+=AB[AC].height;}this.insertHeight(AA,AB,z);},insertHeight:function(AA,AH,AG){this.size+=AH.length;this.height+=AG;for(var AB=0,AD=this.children.length;AB<AD;++AB){var z=this.children[AB],AE=z.chunkSize();if(AA<=AE){z.insertHeight(AA,AH,AG);if(z.lines&&z.lines.length>50){while(z.lines.length>50){var AC=z.lines.splice(z.lines.length-25,25);var AF=new u(AC);z.height-=AF.height;this.children.splice(AB+1,0,AF);AF.parent=this;}this.maybeSpill();}break;}AA-=AE;}},maybeSpill:function(){if(this.children.length<=10){return ;}var AB=this;do{var z=AB.children.splice(AB.children.length-5,5);var AA=new G(z);if(!AB.parent){var AC=new G(AB.children);AC.parent=AB;AB.children=[AC,AA];AB=AC;}else{AB.size-=AA.size;AB.height-=AA.height;var i=L(AB.parent.children,AB);AB.parent.children.splice(i+1,0,AA);}AA.parent=AB.parent;}while(AB.children.length>10);AB.parent.maybeSpill();},iter:function(AA,z,i){this.iterN(AA,z-AA,i);},iterN:function(z,AG,AF){for(var AA=0,AD=this.children.length;AA<AD;++AA){var AE=this.children[AA],AC=AE.chunkSize();if(z<AC){var AB=Math.min(AG,AC-z);if(AE.iterN(z,AB,AF)){return true;}if((AG-=AB)==0){break;}z=0;}else{z-=AC;}}}};function V(z,AE){for(;;){for(var AA=0,AC=z.children.length;AA<AC;++AA){var AD=z.children[AA],AB=AD.chunkSize();if(AE<AB){z=AD;break;}AE-=AB;}if(z.lines){return z.lines[AE];}}}function m(z){if(z.parent==null){return null;}var AE=z.parent,AD=L(AE.lines,z);for(var AA=AE.parent;AA;AE=AA,AA=AA.parent){for(var AB=0,AC=AA.children.length;;++AB){if(AA.children[AB]==AE){break;}AD+=AA.children[AB].chunkSize();}}return AD;}function l(AF,AD){var AB=0;outer:do{for(var AC=0,AE=AF.children.length;AC<AE;++AC){var AA=AF.children[AC],z=AA.height;if(AD<z){AF=AA;continue outer;}AD-=z;AB+=AA.chunkSize();}return AB;}while(!AF.lines);for(var AC=0,AE=AF.lines.length;AC<AE;++AC){var AH=AF.lines[AC],AG=AH.height;if(AD<AG){break;}AD-=AG;}return AB+AC;}function E(z,AF){var AB=0;outer:do{for(var AA=0,AD=z.children.length;AA<AD;++AA){var AE=z.children[AA],AC=AE.chunkSize();if(AF<AC){z=AE;continue outer;}AF-=AC;AB+=AE.height;}return AB;}while(!z.lines);for(var AA=0;AA<AF;++AA){AB+=z.lines[AA].height;}return AB;}function I(){this.time=0;this.done=[];this.undone=[];}I.prototype={addChange:function(AG,AB,z){this.undone.length=0;var AF=+new Date,AD=this.done[this.done.length-1];if(AF-this.time>400||!AD||AD.start>AG+AB||AD.start+AD.added<AG-AD.added+AD.old.length){this.done.push({start:AG,added:AB,old:z});}else{var AC=0;if(AG<AD.start){for(var AA=AD.start-AG-1;AA>=0;--AA){AD.old.unshift(z[AA]);}AD.added+=AD.start-AG;AD.start=AG;}else{if(AD.start<AG){AC=AG-AD.start;AB+=AC;}}for(var AA=AD.added-AC,AE=z.length;AA<AE;++AA){AD.old.push(z[AA]);}if(AD.added<AB){AD.added=AB;}}this.time=AF;}};function Z(){Q(this);}function c(i){if(!i.stop){i.stop=Z;}return i;}function g(i){if(i.preventDefault){i.preventDefault();}else{i.returnValue=false;}}function W(i){if(i.stopPropagation){i.stopPropagation();}else{i.cancelBubble=true;}}function Q(i){g(i);W(i);}function H(i){return i.target||i.srcElement;}function R(i){if(i.which){return i.which;}else{if(i.button&1){return 1;}else{if(i.button&2){return 3;}else{if(i.button&4){return 2;}}}}}function N(AB,AA,z,i){function AC(AD){z(AD||window.event);}if(typeof AB.addEventListener=="function"){AB.addEventListener(AA,AC,false);if(i){return function(){AB.removeEventListener(AA,AC,false);};}}else{AB.attachEvent("on"+AA,AC);if(i){return function(){AB.detachEvent("on"+AA,AC);};}}}function S(){this.id=null;}S.prototype={set:function(i,z){clearTimeout(this.id);this.id=setTimeout(z,i);}};var X=function(){if(/MSIE [1-8]\b/.test(navigator.userAgent)){return false;}var i=document.createElement("div");return"draggable" in i;}();var d=/gecko\/\d{7}/i.test(navigator.userAgent);var a=/MSIE \d/.test(navigator.userAgent);var F=/WebKit\//.test(navigator.userAgent);var D="\n";(function(){var i=document.createElement("textarea");i.value="foo\nbar";if(i.value.indexOf("\r")>-1){D="\r\n";}}());var U=8;var b=/Mac/.test(navigator.platform);var h=/Win/.test(navigator.platform);var s={};for(var r=35;r<=40;++r){s[r]=s["c"+r]=true;}function J(AA,z){if(z==null){z=AA.search(/[^\s\u00a0]/);if(z==-1){z=AA.length;}}for(var AB=0,AC=0;AB<z;++AB){if(AA.charAt(AB)=="\t"){AC+=U-(AC%U);}else{++AC;}}return AC;}function O(i){if(i.currentStyle){return i.currentStyle;}return window.getComputedStyle(i,null);}function x(z,AH){var AB=z.ownerDocument.body;var AG=0,AF=0,AD=false;for(var i=z;i;i=i.offsetParent){var AE=i.offsetLeft,AA=i.offsetTop;if(i==AB){AG+=Math.abs(AE);AF+=Math.abs(AA);}else{AG+=AE,AF+=AA;}if(AH&&O(i).position=="fixed"){AD=true;}}var AC=AH&&!AD?null:AB;for(var i=z.parentNode;i!=AC;i=i.parentNode){if(i.scrollLeft!=null){AG-=i.scrollLeft;AF-=i.scrollTop;}}return{left:AG,top:AF};}if(document.documentElement.getBoundingClientRect!=null){x=function(AB,i){try{var AA=AB.getBoundingClientRect();AA={top:AA.top,left:AA.left};}catch(AC){AA={top:0,left:0};}if(!i){if(window.pageYOffset==null){var z=document.documentElement||document.body.parentNode;if(z.scrollTop==null){z=document.body;}AA.top+=z.scrollTop;AA.left+=z.scrollLeft;}else{AA.top+=window.pageYOffset;AA.left+=window.pageXOffset;}}return AA;};}function Y(i){return i.textContent||i.innerText||i.nodeValue||"";}function q(z,i){return z.line==i.line&&z.ch==i.ch;}function n(z,i){return z.line<i.line||(z.line==i.line&&z.ch<i.ch);}function o(i){return{line:i.line,ch:i.ch};}var v=document.createElement("pre");function e(i){if(M){v.innerHTML="";v.appendChild(document.createTextNode(i));}else{v.textContent=i;}return v.innerHTML;}var M=e("\t")!="\t";P.htmlEscape=e;function k(AC,AB){if(!AB){return AC?AC.length:0;}if(!AC){return AB.length;}for(var AA=AC.length,z=AB.length;AA>=0&&z>=0;--AA,--z){if(AC.charAt(AA)!=AB.charAt(z)){break;}}return z+1;}function L(AC,z){if(AC.indexOf){return AC.indexOf(z);}for(var AA=0,AB=AC.length;AA<AB;++AA){if(AC[AA]==z){return AA;}}return -1;}var T,t,B;if("\n\nb".split(/\n/).length!=3){T=function(AA){var AB=0,z,i=[];while((z=AA.indexOf("\n",AB))>-1){i.push(AA.slice(AB,AA.charAt(z-1)=="\r"?z-1:z));AB=z+1;}i.push(AA.slice(AB));return i;};}else{T=function(i){return i.split(/\r?\n/);};}P.splitLines=T;if(window.getSelection){t=function(z){try{return{start:z.selectionStart,end:z.selectionEnd};}catch(i){return null;}};if(F){B=function(z,AA,i){if(AA==i){z.setSelectionRange(AA,i);}else{z.setSelectionRange(AA,i-1);window.getSelection().modify("extend","forward","character");}};}else{B=function(AA,AB,i){try{AA.setSelectionRange(AB,i);}catch(z){}};}}else{t=function(AB){try{var AF=AB.ownerDocument.selection.createRange();}catch(AH){return null;}if(!AF||AF.parentElement()!=AB){return null;}var AA=AB.value,AG=AA.length,AI=AB.createTextRange();AI.moveToBookmark(AF.getBookmark());var AD=AB.createTextRange();AD.collapse(false);if(AI.compareEndPoints("StartToEnd",AD)>-1){return{start:AG,end:AG};}var z=-AI.moveStart("character",-AG);for(var AE=AA.indexOf("\r");AE>-1&&AE<z;AE=AA.indexOf("\r",AE+1),z++){}if(AI.compareEndPoints("EndToEnd",AD)>-1){return{start:z,end:AG};}var AC=-AI.moveEnd("character",-AG);for(var AE=AA.indexOf("\r");AE>-1&&AE<AC;AE=AA.indexOf("\r",AE+1),AC++){}return{start:z,end:AC};};B=function(AD,AF,AA){var AB=AD.createTextRange();AB.collapse(true);var z=AB.duplicate();var AC=0,i=AD.value;for(var AE=i.indexOf("\n");AE>-1&&AE<AF;AE=i.indexOf("\n",AE+1)){++AC;}AB.move("character",AF-AC);for(;AE>-1&&AE<AA;AE=i.indexOf("\n",AE+1)){++AC;}z.move("character",AA-AC);AB.setEndPoint("EndToEnd",z);AB.select();};}P.defineMode("null",function(){return{token:function(i){i.skipToEnd();}};});P.defineMIME("text/plain","null");return P;})();